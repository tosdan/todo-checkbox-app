<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6 text-center">Gestione Appuntamenti</h1>

  <div class="mb-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-4">Aggiungi Nuovo Appuntamento</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <input type="text" [(ngModel)]="newAppointmentDescription" placeholder="Descrizione appuntamento" class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
      <input type="datetime-local" [(ngModel)]="newAppointmentDate" class="p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
      <button (click)="addAppointment()" class="bg-blue-600 text-white p-2 rounded-md hover:bg-blue-700 transition duration-300">Aggiungi Appuntamento</button>
    </div>
  </div>

  <div class="mb-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-4">Azioni sugli Appuntamenti Selezionati ({{ store.selectedAppointmentsCount() }})</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <button (click)="confirmSelected()" [disabled]="store.selectedAppointmentsCount() === 0" class="bg-green-600 text-white p-2 rounded-md hover:bg-green-700 transition duration-300 disabled:opacity-50">Conferma Selezionati</button>
      <button (click)="cancelSelected()" [disabled]="store.selectedAppointmentsCount() === 0" class="bg-red-600 text-white p-2 rounded-md hover:bg-red-700 transition duration-300 disabled:opacity-50">Annulla Selezionati</button>
      <button (click)="unconfirmSelected()" [disabled]="store.selectedAppointmentsCount() === 0" class="bg-yellow-600 text-white p-2 rounded-md hover:bg-yellow-700 transition duration-300 disabled:opacity-50">Revoca Conferma Selezionati</button>
    </div>
  </div>

  <div class="mb-8 p-6 bg-white rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold mb-4">Appuntamenti</h2>
    <div *ngIf="store.mainList().length === 0" class="text-center text-gray-500">
      Nessun appuntamento presente. Aggiungine uno!
    </div>

    <app-month-view *ngFor="let month of store.mainList()" [monthName]="month.mese"></app-month-view>
  </div>

  <div class="text-center">
    <button (click)="clearAllData()" class="bg-red-600 text-white p-3 rounded-md hover:bg-red-700 transition duration-300">
      Cancella Tutti i Dati
    </button>
  </div>
</div>
